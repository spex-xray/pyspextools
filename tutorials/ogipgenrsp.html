
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>OGIPGENRSP - Create dummy response files &#8212; pyspextools 0.5.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SIMRES - Create simulation files based on existing response" href="simres.html" />
    <link rel="prev" title="TG2Spex - Convert Chandra grating data" href="tg2spex.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="ogipgenrsp-create-dummy-response-files">
<span id="ogipgenrsp"></span><h1>OGIPGENRSP - Create dummy response files<a class="headerlink" href="#ogipgenrsp-create-dummy-response-files" title="Permalink to this headline">¶</a></h1>
<p>Ogipgenrsp is a script to generate a dummy (Gaussian) response file with a user provided effective area, energy scale
and energy resolution. This is particularly helpful when creating responses for possible future missions. The resulting
response file is in OGIP RSP format. If you need a spectrum and response in SPEX format based on this
new matrix, you can run the <a class="reference internal" href="simres.html#simres"><span class="std std-ref">SIMRES - Create simulation files based on existing response</span></a> script in this package with the RSP file from this script as input.</p>
<p>Since the bin size of the response depends on the input resolution, the original binning of the ARF file may not be
appropriate. Therefore, this script linearly interpolates the energies from the input ARF array to the new output grid.</p>
<ul class="simple">
<li><p>Please note that this script creates a simple diagonal matrix with a Gaussian distribution function. Although this
is usually a good approximation, X-ray detectors will have a much more complicated response in reality.</p></li>
<li><p>Please also note that this script creates a square matrix, which is usually not optimal. Optimal binning, as
explained in <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2016A%26A...587A.151K/abstract">Kaastra &amp; Bleeker 2016</a>, is still to
be implemented.</p></li>
</ul>
<p>The parameters of simres can be shown on the command line by the ‘-h’ flag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ogipgenrsp</span> <span class="o">-</span><span class="n">h</span>
</pre></div>
</div>
<section id="energy-dependent-resolution">
<h2>Energy dependent resolution<a class="headerlink" href="#energy-dependent-resolution" title="Permalink to this headline">¶</a></h2>
<p>Instead of a constant spectral resolution (FWHM) for the entire band, it is also possible to make the resolution
linearly depend on the energy. The linear dependence is implemented in data/response.py and integrated in the
gaussrsp function. The resulting FWHM(E) for energy E in keV is calculated as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FWHM</span><span class="p">(</span><span class="n">E</span><span class="p">)</span> <span class="o">=</span> <span class="n">FWHM</span><span class="p">(</span><span class="o">@</span><span class="mi">1</span> <span class="n">keV</span><span class="p">)</span> <span class="o">+</span> <span class="n">DELTA_FWHM</span> <span class="o">*</span> <span class="p">(</span><span class="n">E</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<p>The FWHM(&#64; 1keV) is set by the –resolution flag (in eV) and DELTA_FWHM is set by the –resgradient flag (in eV per keV).</p>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>In the example below, we create a new matrix for new mission with a spectral resolution of 1 eV and an energy range
of 0.1 to 10 keV:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>linux:~&gt; ogipgenrsp --arffile athena.arf --resolution 1.0 --range 0.1:10 --rspfile newmission.rsp --overwrite
==================================
 This is ogipgenrsp version 0.2.8
==================================

Reading ARF file... OK
Reading ARF file... OK
Number of energy bins: 49500
Number of channels per group: 50
Calculate response matrix... OK
Check the created RSP matrix... OK
Write RSP to file... OK
</pre></div>
</div>
<p>The new matrix will contain 49500 bins and each response group will have 50 response elements for which the Gaussian
response is calculated.</p>
<p>The resulting response file is in OGIP RSP format. If you need a spectrum and response in SPEX format based on this
new matrix, you can run the <a class="reference internal" href="simres.html#simres"><span class="std std-ref">SIMRES - Create simulation files based on existing response</span></a> script in this package with the RSP file from this script as input.</p>
</section>
<section id="command-line-arguments">
<h2>Command-line arguments<a class="headerlink" href="#command-line-arguments" title="Permalink to this headline">¶</a></h2>
<p><p>See full documentation at: <a class="reference external" href="https://spex-xray.github.io/pyspextools">https://spex-xray.github.io/pyspextools</a></p>
</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>usage: ogipgenrsp [-h] --arffile ARFFILE --resolution RESOLUTION [--resgradient RESGRADIENT] [--range RANGE] [--sampling SAMPLING] --rspfile RSPFILE
                  [--no-area] [--overwrite] [--no-color] [--version]
</pre></div>
</div>
<section id="named-arguments">
<h3>Named Arguments<a class="headerlink" href="#named-arguments" title="Permalink to this headline">¶</a></h3>
<dl class="option-list">
<dt><kbd>--arffile</kbd></dt>
<dd><p>Input Effective area file (.arf, required).</p>
</dd>
<dt><kbd>--resolution</kbd></dt>
<dd><p>Spectral resolution at 1 keV (FWHM, eV, required).</p>
</dd>
<dt><kbd>--resgradient</kbd></dt>
<dd><p>Energy dependence of spectral resolution (in eV per keV, see documentation).</p>
<p>Default: 0.0</p>
</dd>
<dt><kbd>--range</kbd></dt>
<dd><p>Energy range of the response files (in keV), for example –range 0.1:10.</p>
<p>Default: 0.1:10</p>
</dd>
<dt><kbd>--sampling</kbd></dt>
<dd><p>The number of channels per resolution element (FWHM) at 1 keV.</p>
<p>Default: 5</p>
</dd>
<dt><kbd>--rspfile</kbd></dt>
<dd><p>Output filename for the OGIP RSP file (.rsp required).</p>
</dd>
<dt><kbd>--no-area</kbd></dt>
<dd><p>Do NOT include effective area in response file (create .rmf).</p>
<p>Default: False</p>
</dd>
<dt><kbd>--overwrite</kbd></dt>
<dd><p>Overwrite existing rsp files with same name.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--no-color</kbd></dt>
<dd><p>Suppress color output.</p>
<p>Default: True</p>
</dd>
<dt><kbd>--version</kbd></dt>
<dd><p>show program’s version number and exit</p>
</dd>
</dl>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo-wide.png" alt="Logo"/>
    
  </a>
</p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Install pyspextools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorials.html">Pyspextools tutorials</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../tutorials.html#using-the-pyspextools-scripts">Using the pyspextools scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#using-the-pyspextools-api">Using the pyspextools API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#using-the-spex-user-model">Using the SPEX user model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Module reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../tutorials.html">Pyspextools tutorials</a><ul>
      <li>Previous: <a href="tg2spex.html" title="previous chapter">TG2Spex - Convert Chandra grating data</a></li>
      <li>Next: <a href="simres.html" title="next chapter">SIMRES - Create simulation files based on existing response</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018-2024, SRON Netherlands Institute for Space Research.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.4.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/tutorials/ogipgenrsp.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>